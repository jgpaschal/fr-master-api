{"version":3,"sources":["main.js"],"names":[],"mappings":";;;;;;;AAOA;;;;;;;;;;;;;;;;;;;;;;;;AAOA,IAAM,YAAY,wBAAc,SAAd,CAAwB,KAAxB,CAAZ;AACN,IAAM,WAAW,wBAAc,SAAd,CAAwB,IAAxB,CAAX;AACN,IAAM,OAAO,UAAU,IAAV;AACb,IAAM,OAAO,UAAU,IAAV;AACb,IAAM,MAAM,wBAAN;;AAEN,IAAI,GAAJ,CAAQ,cAAI,OAAJ,CAAY,sCAAZ,EAAoD;AAC3D,SAAQ,gBAAS,EAAT,EAAa,MAAb,EAAqB,IAArB,EAA2B;AAClC,KAAG,IAAH,CAAQ,6BAAR,EAAuC,UAAC,GAAD,EAAO;AAC7C,OAAI,GAAJ,EAAS;AACR,gBAAI,KAAJ,CAAU,sCAAV,EADQ;AAER,gBAAI,KAAJ,CAAU,IAAI,KAAJ,CAAV,CAFQ;AAGR,WAHQ;IAAT;AAKA,UAAO,eAAP,GAAyB,GAAG,MAAH,CAAU,wBAAV,CANoB;GAAP,CAAvC,CADkC;AASlC,SATkC;EAA3B;CADD,CAAR;;AAcA,QAAQ,GAAR,CAAY,+BAAZ;AACA,IAAI,GAAJ;;AAEA,IAAI,MAAJ,CAAW,IAAX,EAAiB,IAAjB,EAAuB,YAAI;AAC1B,SAAQ,GAAR,CAAY,2BAAZ,EAD0B;CAAJ,CAAvB;;kBAIe","file":"main.js","sourcesContent":["/**\n * @author          John Paschal\n * @createdDate:    28 Jan 2016\n * @updatedDate:    28 Jan 2016\n * @description     main.js file which creates a server \n *                  and listens on the port specified\n */\n'use strict';\nimport express from \"express\";\nimport configManager from \"./lib/utils/configManager\";\nimport orm from 'orm';\nimport {log} from './lib/utils/logger';\nimport {router} from './lib/routes';\n\nconst appConfig = configManager.getConfig('app');\nconst dbConfig = configManager.getConfig('db');\nconst port = appConfig.port;\nconst host = appConfig.host;\nconst app = express();\n\napp.use(orm.express('mysql://root:root@localhost/fr_sales', {\n\tdefine: function(db, models, next) {\n\t\tdb.load('lib/models/modelInitializer', (err)=>{\n\t\t\tif (err) {\n\t\t\t\tlog.error('Error loading models - in master API');\n\t\t\t\tlog.error(err.stack);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tmodels.masterFileTable = db.models.flush_sales_master_table;\n\t\t})\n\t\tnext();\n\t}\n}));\n\nconsole.log('initiating routes for the app');\napp.use(router);\n\napp.listen(port, host, ()=>{\n\tconsole.log('master api server started');\n});\n\nexport default app;\n"],"sourceRoot":"/home/john/Documents/repos/fr-sales-pf/fr-master-api/es6"}